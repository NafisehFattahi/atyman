---
import { Image } from 'astro:assets';
import banner from "../images/logo.png";
import SearchForm from "../components/searchForm.astro";

---

<section class="hero">
  <div class="content glitch-wrapper">
    <div class="unselectable glitch">ماشین‌آلات و خدمات</div>
  </div>
  <SearchForm />
  
  <div class="wrapper unselectable">
    <div class="item item1">پرس انواع سرسیم</div>
    <div class="item item2">پرس انواع کابلشو</div>
    <div class="item item3">برش وارنیش حرارتی</div>
    <div class="item item4">پرس انواع وایرشو </div>
    <div class="item item5">برش/غلاف برداری سیم</div>
    <div class="item item6">برش/غلاف برداری کابل</div>
    <div class="item item7">برش روکش پی وی سی</div>
    <div class="item item8">برش انواع شلنگ</div>

  </div>
  <div class="img-div myAnim unselectable">
    <Image class="logo" src={banner} alt="" width={400} height={400}></Image>
  </div>
  
  
</section>



<style>



*,
*::before,
*::after {
  box-sizing: border-box;
}

* {
  margin: 0;
}

@keyframes scrollLeft {
  to {
    left: -200px;
  }
}

.myAnim {
  animation: myAnim 2s ease 0s 1 normal forwards;
}
@keyframes myAnim {
	0% {
		animation-timing-function: ease-in;
		opacity: 1;
		transform: translateY(45px);
	}

	24% {
		opacity: 1;
	}

	40% {
		animation-timing-function: ease-in;
		transform: translateY(24px);
	}

	65% {
		animation-timing-function: ease-in;
		transform: translateY(12px);
	}

	82% {
		animation-timing-function: ease-in;
		transform: translateY(6px);
	}

	93% {
		animation-timing-function: ease-in;
		transform: translateY(4px);
	}

	25%,
	55%,
	75%,
	87% {
		animation-timing-function: ease-out;
		transform: translateY(0px);
	}

	100% {
		animation-timing-function: ease-out;
		opacity: 1;
		transform: translateY(0px);
	}
}

 .wrapper {
  width: 90%;
  max-width: 1536px;
  margin-inline: auto;
  position: relative;
  height: 100px;
  overflow: hidden;
  position: absolute;
  top: 15%;
  transform: translate(10%, 0%);
  mask-image: linear-gradient(
    to right,
    rgba(0, 0, 0, 0),
    rgba(0, 0, 0, 1) 20%,
    rgba(0, 0, 0, 1) 80%,
    rgba(0, 0, 0, 0)
  );
}

 .item {
  width: 230px;
  height: 60px;
  background: rgba(255, 255, 255, .1);
  box-shadow: 0 25px 45px rgba(0, 0, 0, 0);
  border: 2px solid rgba(255, 255, 255, .5);
  border-radius: 6px;
  color: white;
  font-size: 23px;
  text-align: center;
  line-height: 50px;
  
  position: absolute;
  left: max(calc(220px * 8), 100%);
  animation-name: scrollLeft;
  animation-duration: 30s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

.item1 {
  animation-delay: calc(30s / 8 * (8 - 1) * -1);
}

.item2 {
  animation-delay: calc(30s / 8 * (8 - 2) * -1);
}

.item3 {
  animation-delay: calc(30s / 8 * (8 - 3) * -1);
}

.item4 {
  animation-delay: calc(30s / 8 * (8 - 4) * -1);
}

.item5 {
  animation-delay: calc(30s / 8 * (8 - 5) * -1);
}

.item6 {
  animation-delay: calc(30s / 8 * (8 - 6) * -1);
}

.item7 {
  animation-delay: calc(30s / 8 * (8 - 7) * -1);
}

.item8 {
  animation-delay: calc(30s / 8 * (8 - 8) * -1);
}  

 

.hero {
  width: 100%;
  height: 100vh;
  color: #fff;
  background: linear-gradient(-45deg, #0c2b8f, #00aeff, 	#0058fb, 		#a9ecff, 	#84beff);
  
  /* background-image: linear-gradient( 86.3deg,  rgba(0,119,182,1) 3.6%, rgba(8,24,68,1) 87.6% ); */
  background-size: 400% 400%;
  position: relative;
  animation: change 10s ease-in-out infinite;

  & .banner {
      position: absolute;
      display: block;
      margin: auto;
      top: 50%;
      left: 50%;
      inset: 0;
      z-index: 1;
      height: 92vh;
      object-fit: cover;
    }
}

.img-div {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

.logo {
  width: 300px;
  height: 300px;
  display: flex;
  justify-content: center;
  align-items: center;
  position: absolute;
  top: 28%;
}

.content{
  display: flex;
  font-size: 2.5rem;
  width: 100%;
  height: 100px;
  justify-content: center;
  /* border: 2px solid red; */
  position: absolute;
  top: 30%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: 5rem, 10rem;

}

/* form {
  display: flex;
  font-size: 2.5rem;
  width: 50%;
  height: 100px;
  justify-content: center;
  position: absolute;
  top: 23%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: 5rem, 10rem;
} */

@keyframes change {
  0%{
    background-position: 0 50%;
  }
  50%{
    background-position: 100% 50%;
  }
  100%{
    background-position: 0 50%;
  }
}

@media (max-width: 600px) {
  .content {
    font-size: 2rem;
    top: 39%;
    left: 55&
  }
  .logo {
    width: 250px;
    height: 250px;
  }
  .img-div .logo{
    justify-content: center;
    position: absolute;
    top: 38%;
    /* left: 20%; */
  }
  form {
    top: 65%;
    width: 75%;
  }
  .item {
  width: 180px;
  height: 100px;
  background: rgba(255, 255, 255, .1);
  box-shadow: 0 25px 45px rgba(0, 0, 0, 0);
  border: 2px solid rgba(255, 255, 255, .5);
  border-radius: 6px;
  color: white;
  font-size: 23px;
  text-align: center;
  line-height: 100px;
  position: absolute;
  left: max(calc(180px * 8), 100%);
  animation-name: scrollLeft;
  animation-duration: 30s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}
}

@media (max-width: 300px) {
  .content {
    font-size: 2rem;
    top: 28%;
    left: 55&
  }
  .logo {
    width: 150px;
    height: 150px;
    top: 28%;
    justify-content: center;
    align-items: center;
  }
  .img-div {
    justify-content: center;
    position: absolute;
    top: -3%;
  }
  form {
    top: 20%;
    width: 75%;
  }
  .item {
  width: 180px;
  height: 100px;
  background: rgba(255, 255, 255, .1);
  box-shadow: 0 25px 45px rgba(0, 0, 0, 0);
  border: 2px solid rgba(255, 255, 255, .5);
  border-radius: 6px;
  color: white;
  font-size: 23px;
  text-align: center;
  line-height: 100px;
  position: absolute;
  left: max(calc(180px * 8), 100%);
  animation-name: scrollLeft;
  animation-duration: 30s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}
}

.unselectable {
  user-select: none;
}

.glitch-wrapper {
   width: 100%;
   height: 100%;
   display: flex;
   align-items: center;
   justify-content: center;
   text-align: center;
}

.glitch {
   position: relative;
   font-size: 60px;
   font-weight: 700;
   line-height: 1.2;
   color: #fff;
   letter-spacing: 5px;
   animation: shift 4s ease-in-out infinite alternate;
   transform: skewX(0deg);
   z-index: 1;
}

@keyframes shift {
   0%, 40%, 44%, 58%, 61%, 65%, 69%, 73%, 100% {
      transform: skewX(0deg);
   }

   41% {
      transform: skewX(10deg);
   }

   42% {
      transform: skewX(-10deg);
   }

   59% {
      transform: skewX(40deg) skewY(10deg);
   }

   60% {
      transform: skewX(-40deg) skewY(-10deg);
   }

   63% {
      transform: skewX(10deg) skewY(-5deg);
   }

   70% {
      transform: skewX(-50deg) skewY(-20deg);
   }

   71% {
      transform: skewX(10deg) skewY(-10deg);
   }
}

</style>


<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    // @ts-ignore
      new PagefindUI({ element: "#search", showSubResults: true });
  });
</script>
